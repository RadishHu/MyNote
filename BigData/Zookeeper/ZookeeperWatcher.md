# ZookeeperWatcher

zk提供了分布式数据发布/订阅功能，一个典型的发布/订阅模型系统，定义了一种一对多的订阅关系，能让多个订阅者同时监听某一个主题对象，当这个主题对象自身状态变化时，会通知所有订阅者，使它们做出相应处理。

zk允许客户端向服务端注册一个watcher监听，当服务端的一些事件触发这个watcher，就会向客户端发送一个事件通知

触发事件的种类：创建节点、删除节点、节点改变、子节点改变

Watcher的三个过程：

- 客户端向服务端注册Watcher
- 服务端事件发生触发Watcher
- 客户端回调Watcher得到触发事件

Watcher机制特点：一次性触发，事件发生触发监听，一个Watcher event就会被发送到设置监听端的客户端，这是一次性的，后续再发生同样的事件，不会再次触发