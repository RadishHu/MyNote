# Yarn

## Yarn调度 Scheduler

Scheduler负责给应用分配资源

Yarn中有三种调度器：FIFO Scheduler、Capacity Scheduler、Fair Scheduler

- FIFO

  把应用按提交顺序排成一个队列，这个一个先进先出的队列，先给队列中最头上的应用分配资源，待最头上的应用需求满足后再给下一个分配

  FIFO并不适合共享集群，大的应用可能会占用所有集群资源，这会导致其它应用阻塞

- Capacity

  Capacity允许多个组织共享整个集群，每个组织可以获得集群中的一部分计算能力。通过为每个组织分配专门的队列，然后再为每个队列分配一定的集群资源。在一个队列内部，资源的调度时采用FIFO策略

- Fair

  Fair不需要预先占用一定的系统资源，Fair会为所有运行的job动态的调整系统资源

  当一个大的job提交时，只有这一个job在运行，它会获得所有的集群资源。当第二个小任务提交后，Fair会分配一半资源给这个小任务，让这两个任务公平的共享集群资源，小任务执行完成后释放占用的资源，大任务又获得所有的集群资源